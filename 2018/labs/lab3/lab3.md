# 实验报告

## 实验名称（利用GEM5评测系统性能）

班级 学号 姓名

## 实验目标

利用GEM5仿真x86-64系统，测量（多线程）FFT程序运行时间，与实际x86-64系统的测试结果进行比较。

## 实验要求

* 采用C/C++编写程序，选择合适的运行时间测量方法
* 根据自己的机器配置选择合适的输入数据大小 n，保证足够长度的运行时间 
* 对于不同的线程数目，建议至少选择 1 个，2 个，4 个，8 个，16 个线程进行测试
* 回答思考题，答案加入到实验报告叙述中合适位置

## 思考题

1. GEM5是什么？怎么使用？
2. 利用仿真器评测系统性能的优点是什么？缺点是什么？
3. GEM5仿真系统测得的程序性能与实际系统测得的程序性能差别大不大？可能的原因是什么？

## 实验内容

### GEM5的安装和使用

GEM5的官方文档在[这里](http://gem5.org/Documentation), 包括了安装和使用说明。

GEM5网站也提供了x86-64系统Linux镜像下载，可以在GEM5的[下载](http://gem5.org/Download)页面找到。

大家也可以参考[这篇博客文章](https://blog.csdn.net/u012822903/article/details/62444286)及其相关文章，了解如何利用GEM5进行Linux全系统模拟和运行自己的测试程序。

### 利用GEM5测试FFT程序在x86-64系统上的性能

在安装好GEM5，并掌握如何使用GEM5运行自己的测试程序后，可以在GEM5上运行FFT程序，测试其性能。建议首先使用实验一中的单线程FFT程序，然后再尝试实验二中的多线程FFT程序，记录测试数据。

## 测试

### 测试平台

在如下机器上进行了测试：

| 部件     | 配置             | 备注   |
| :--------|:----------------:| :-----:|
| CPU      | core i5-6500U    |        |
| 内存     | DDR3 4GB         |        |
| 操作系统 | Ubuntu 18.04 LTS | 中文版 |


### 测试记录

单(多)线程FFT程序的测试参数如下：

| 参数     | 取值             | 备注   |
| :--------|:----------------:| :-----:|
| 数据规模 | 1024或其它       |        |
| 线程数目 | 1,2,4,8,16,32    |        |


FFT程序运行过程的截图如下：

FFT程序的输出

![图1 程序输出](../lab1/perf_ls.png)


## 分析和结论

从测试记录来看，FFT程序在GEM5上的执行时间是......，与实际系统上测得的执行时间相比，......

